<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		.block { width: 100px; height: 100px; margin: 1000px; background-color: red; }
		.big { width:1000px; }
	</style>
</head>
<body>
	
	<div class="block small"></div>
	<div class="block small"></div>
	<div class="block big"></div>
	
	<script src="libs/jquery.js?ver=1.11.1"></script>
	<script src="dist/visibilityjs.js"></script>
	<script>	
	
		/*
		$('.small').visc(function(states) 
		{
			console.log("-----small-----");
			console.log(states[1].element);
			console.log(states[1].visibilityRate);
			console.log(states[1].occupiedViewport);
			console.log(states[1].maxVisibility);
		}).unvisc();
		*/
/*
		$('.block.big').visc(function(states) 
		{
			console.log("-----big-----");
			console.log(states[0].element);
			console.log(states[0].visibilityRate);
			console.log(states[0].occupiedViewport);
			console.log(states[0].maxVisibility);
		});
		console.log($('.small').visc('getState'));
		*/
		
		var visc = new Visc();
		visc.bind(document.querySelectorAll('.small'), function(states) 
		{
			for(var i = 0; i < states.length; i++)
			{
				states[i].element.style.opacity = states[i].visibilityRate.both;
			}
		});

		var visc2 = new Visc();
		visc2.bind(document.querySelectorAll('.big'), function(states) 
		{
			for(var i = 0; i < states.length; i++)
				states[i].element.style.opacity = states[i].visibilityRate.vertical;
		});

		/*
		window.addEventListener("load", function()
		{
			var element = document.querySelectorAll(".block");
			var vsc = new Visc();
			window.addEventListener("scroll", function()
			{
				var vstate = vsc.getState(element);
				console.log(visc.getNumberOfInstances());
				console.log(vstate[0].visibilityRate);
				console.log(vstate[0].occupiedViewport);
				console.log(vstate[0].maxVisibility);
			});
		});
*/
	</script>
</body>
</html>